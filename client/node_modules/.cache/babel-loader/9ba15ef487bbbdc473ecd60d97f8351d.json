{"ast":null,"code":"import _regeneratorRuntime from\"/Users/drewpage/Desktop/CODE/EnlightenMeDaily/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/drewpage/Desktop/CODE/EnlightenMeDaily/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import{Layout,Card,Typography}from'antd';import{AUTH_URL}from'../../lib/graphql/queries/AuthUrl';import googleLogo from'./assets/google_logo.jpg';import{useApolloClient}from'@apollo/react-hooks';var Content=Layout.Content;var Title=Typography.Title,Text=Typography.Text;export var Login=function Login(_ref){var setViewer=_ref.setViewer;var client=useApolloClient();var handleAuthorize=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _ref3,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return client.query({query:AUTH_URL});case 3:_ref3=_context.sent;data=_ref3.data;window.location.href=data.authUrl;_context.next=10;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function handleAuthorize(){return _ref2.apply(this,arguments);};}();return React.createElement(Content,{className:\"log-in\"},React.createElement(Card,{className:\"log-in-card\"},React.createElement(\"div\",{className:\"log-in-card__intro\"},React.createElement(Title,{level:3,className:\"log-in-card__intro-title\"},React.createElement(\"span\",{role:\"img\",\"aria-label\":\"wave\"},\"\\uD83D\\uDC4B\")),React.createElement(Title,{level:3,className:\"log-in-card__intro-title\"},\"Log in to TinyHouse!\"),React.createElement(Text,null,\"Sign in with Google to start booking available rentals!\")),React.createElement(\"button\",{className:\"log-in-card__google-button\",onClick:handleAuthorize},React.createElement(\"img\",{src:googleLogo,alt:\"Google Logo\",className:\"log-in-card__google-button-logo\"}),React.createElement(\"span\",{className:\"log-in-card__google-button-text\"},\"Sign in with Google\")),React.createElement(Text,{type:\"secondary\"},\"Note: By signing in, you'll be redirected to the Google consent form to sign in with your Google account.\")));};","map":{"version":3,"sources":["/Users/drewpage/Desktop/CODE/EnlightenMeDaily/client/src/sections/Login/index.tsx"],"names":["React","Layout","Card","Typography","AUTH_URL","googleLogo","useApolloClient","Content","Title","Text","Login","setViewer","client","handleAuthorize","query","data","window","location","href","authUrl"],"mappings":"2QAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,UAAvB,KAAyC,MAAzC,CAEA,OAASC,QAAT,KAAyB,mCAAzB,CAEA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,OAASC,eAAT,KAA6C,qBAA7C,C,GAEQC,CAAAA,O,CAAYN,M,CAAZM,O,IACAC,CAAAA,K,CAAgBL,U,CAAhBK,K,CAAOC,I,CAASN,U,CAATM,I,CAMf,MAAO,IAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAA0B,IAAvBC,CAAAA,SAAuB,MAAvBA,SAAuB,CAC7C,GAAMC,CAAAA,MAAM,CAAGN,eAAe,EAA9B,CAEA,GAAMO,CAAAA,eAAe,2FAAG,wLAEGD,CAAAA,MAAM,CAACE,KAAP,CAA0B,CAC/CA,KAAK,CAAEV,QADwC,CAA1B,CAFH,4BAEZW,IAFY,OAEZA,IAFY,CAKpBC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuBH,IAAI,CAACI,OAA5B,CALoB,mJAAH,kBAAfN,CAAAA,eAAe,2CAArB,CASA,MACE,qBAAC,OAAD,EAAS,SAAS,CAAC,QAAnB,EACE,oBAAC,IAAD,EAAM,SAAS,CAAC,aAAhB,EACE,2BAAK,SAAS,CAAC,oBAAf,EACE,oBAAC,KAAD,EAAO,KAAK,CAAE,CAAd,CAAiB,SAAS,CAAC,0BAA3B,EACE,4BAAM,IAAI,CAAC,KAAX,CAAiB,aAAW,MAA5B,iBADF,CADF,CAME,oBAAC,KAAD,EAAO,KAAK,CAAE,CAAd,CAAiB,SAAS,CAAC,0BAA3B,yBANF,CASE,oBAAC,IAAD,gEATF,CADF,CAYE,8BAAQ,SAAS,CAAC,4BAAlB,CAA+C,OAAO,CAAEA,eAAxD,EACE,2BACE,GAAG,CAAER,UADP,CAEE,GAAG,CAAC,aAFN,CAGE,SAAS,CAAC,iCAHZ,EADF,CAME,4BAAM,SAAS,CAAC,iCAAhB,wBANF,CAZF,CAoBE,oBAAC,IAAD,EAAM,IAAI,CAAC,WAAX,8GApBF,CADF,CADF,CA6BD,CAzCM","sourcesContent":["import React from 'react';\nimport { Layout, Card, Typography } from 'antd';\nimport { Viewer } from '../../lib/types';\nimport { AUTH_URL } from '../../lib/graphql/queries/AuthUrl';\nimport { AuthUrl as AuthUrlData } from '../../lib/graphql/queries/AuthUrl/__generated__/AuthUrl';\nimport googleLogo from './assets/google_logo.jpg';\nimport { useApolloClient, useMutation } from '@apollo/react-hooks';\n\nconst { Content } = Layout;\nconst { Title, Text } = Typography;\n\ninterface Props {\n  setViewer: (viewer: Viewer) => void;\n}\n\nexport const Login = ({ setViewer }: Props) => {\n  const client = useApolloClient();\n\n  const handleAuthorize = async () => {\n    try {\n      const { data } = await client.query<AuthUrlData>({\n        query: AUTH_URL\n      })\n      window.location.href = data.authUrl;\n    } catch {}\n  }\n\n  return (\n    <Content className=\"log-in\">\n      <Card className=\"log-in-card\">\n        <div className=\"log-in-card__intro\">\n          <Title level={3} className=\"log-in-card__intro-title\">\n            <span role=\"img\" aria-label=\"wave\">\n              ðŸ‘‹\n            </span>\n          </Title>\n          <Title level={3} className=\"log-in-card__intro-title\">\n            Log in to TinyHouse!\n          </Title>\n          <Text>Sign in with Google to start booking available rentals!</Text>\n        </div>\n        <button className=\"log-in-card__google-button\" onClick={handleAuthorize}>\n          <img\n            src={googleLogo}\n            alt=\"Google Logo\"\n            className=\"log-in-card__google-button-logo\"\n          />\n          <span className=\"log-in-card__google-button-text\">Sign in with Google</span>\n        </button>\n        <Text type=\"secondary\">\n          Note: By signing in, you'll be redirected to the Google consent form to sign in\n          with your Google account.\n        </Text>\n      </Card>\n    </Content>\n  );\n}"]},"metadata":{},"sourceType":"module"}